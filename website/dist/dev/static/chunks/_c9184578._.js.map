{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/components/ui/sonner.tsx"],"sourcesContent":["\"use client\"\n\nimport {\n  CircleCheckIcon,\n  InfoIcon,\n  Loader2Icon,\n  OctagonXIcon,\n  TriangleAlertIcon,\n} from \"lucide-react\"\nimport { useTheme } from \"next-themes\"\nimport { Toaster as Sonner, type ToasterProps } from \"sonner\"\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme()\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      closeButton\n      icons={{\n        success: <CircleCheckIcon className=\"size-4\" />,\n        info: <InfoIcon className=\"size-4\" />,\n        warning: <TriangleAlertIcon className=\"size-4\" />,\n        error: <OctagonXIcon className=\"size-4\" />,\n        loading: <Loader2Icon className=\"size-4 animate-spin\" />,\n      }}\n      style={\n        {\n          \"--normal-bg\": \"var(--popover)\",\n          \"--normal-text\": \"var(--popover-foreground)\",\n          \"--normal-border\": \"var(--border)\",\n          \"--border-radius\": \"var(--radius)\",\n        } as React.CSSProperties\n      }\n      {...props}\n    />\n  )\n}\n\nexport { Toaster }\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;;;AAVA;;;;AAYA,MAAM,UAAU,CAAC,EAAE,GAAG,OAAqB;;IACzC,MAAM,EAAE,QAAQ,QAAQ,EAAE,GAAG,IAAA,+JAAQ;IAErC,qBACE,6LAAC,sJAAM;QACL,OAAO;QACP,WAAU;QACV,WAAW;QACX,OAAO;YACL,uBAAS,6LAAC,8OAAe;gBAAC,WAAU;;;;;;YACpC,oBAAM,6LAAC,qNAAQ;gBAAC,WAAU;;;;;;YAC1B,uBAAS,6LAAC,oPAAiB;gBAAC,WAAU;;;;;;YACtC,qBAAO,6LAAC,qOAAY;gBAAC,WAAU;;;;;;YAC/B,uBAAS,6LAAC,uOAAW;gBAAC,WAAU;;;;;;QAClC;QACA,OACE;YACE,eAAe;YACf,iBAAiB;YACjB,mBAAmB;YACnB,mBAAmB;QACrB;QAED,GAAG,KAAK;;;;;;AAGf;GA1BM;;QACyB,+JAAQ;;;KADjC"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/lib/zen-mode.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from \"react\";\n\ninterface ZenModeContextType {\n    zenMode: boolean;\n    isLoaded: boolean;\n    toggleZenMode: () => void;\n}\n\nconst ZenModeContext = createContext<ZenModeContextType | undefined>(undefined);\n\nconst ZEN_MODE_KEY = \"zen-mode\";\n\nexport function ZenModeProvider({ children }: { children: ReactNode }) {\n    const [zenMode, setZenMode] = useState(false);\n    const [isLoaded, setIsLoaded] = useState(false);\n\n    // Load from localStorage on mount\n    useEffect(() => {\n        const stored = localStorage.getItem(ZEN_MODE_KEY);\n        if (stored === \"true\") {\n            setZenMode(true);\n        }\n        setIsLoaded(true);\n    }, []);\n\n    // Save to localStorage when changed\n    useEffect(() => {\n        if (isLoaded) {\n            localStorage.setItem(ZEN_MODE_KEY, zenMode.toString());\n        }\n    }, [zenMode, isLoaded]);\n\n    const toggleZenMode = () => {\n        setZenMode((prev) => !prev);\n    };\n\n    return (\n        <ZenModeContext.Provider value={{ zenMode, isLoaded, toggleZenMode }}>\n            {children}\n        </ZenModeContext.Provider>\n    );\n}\n\nexport function useZenMode() {\n    const context = useContext(ZenModeContext);\n    if (context === undefined) {\n        throw new Error(\"useZenMode must be used within a ZenModeProvider\");\n    }\n    return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAUA,MAAM,+BAAiB,IAAA,8KAAa,EAAiC;AAErE,MAAM,eAAe;AAEd,SAAS,gBAAgB,EAAE,QAAQ,EAA2B;;IACjE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,kCAAkC;IAClC,IAAA,0KAAS;qCAAC;YACN,MAAM,SAAS,aAAa,OAAO,CAAC;YACpC,IAAI,WAAW,QAAQ;gBACnB,WAAW;YACf;YACA,YAAY;QAChB;oCAAG,EAAE;IAEL,oCAAoC;IACpC,IAAA,0KAAS;qCAAC;YACN,IAAI,UAAU;gBACV,aAAa,OAAO,CAAC,cAAc,QAAQ,QAAQ;YACvD;QACJ;oCAAG;QAAC;QAAS;KAAS;IAEtB,MAAM,gBAAgB;QAClB,WAAW,CAAC,OAAS,CAAC;IAC1B;IAEA,qBACI,6LAAC,eAAe,QAAQ;QAAC,OAAO;YAAE;YAAS;YAAU;QAAc;kBAC9D;;;;;;AAGb;GA7BgB;KAAA;AA+BT,SAAS;;IACZ,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;IANgB"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/services/workspace/constants.ts"],"sourcesContent":["/**\n * Workspace Storage Constants\n */\n\n/** localStorage key prefix for workspaces */\nexport const WORKSPACE_STORAGE_PREFIX = \"workspace\";\n\n/** localStorage key for workspace list metadata */\nexport const WORKSPACE_LIST_KEY = `${WORKSPACE_STORAGE_PREFIX}:list`;\n\n/** localStorage key for active workspace ID */\nexport const ACTIVE_WORKSPACE_KEY = `${WORKSPACE_STORAGE_PREFIX}:active`;\n\n/** Maximum number of workspaces allowed */\nexport const MAX_WORKSPACES = 10;\n\n/** Maximum workspace name length */\nexport const MAX_WORKSPACE_NAME_LENGTH = 50;\n\n/** Minimum workspace name length */\nexport const MIN_WORKSPACE_NAME_LENGTH = 1;\n\n/** Default workspace names */\nexport const DEFAULT_WORKSPACE_NAMES = [\n    \"Development\",\n    \"Production\",\n    \"Testing\",\n    \"Personal\",\n    \"Work\",\n] as const;\n"],"names":[],"mappings":"AAAA;;CAEC,GAED,2CAA2C;;;;;;;;;;;;;;;;AACpC,MAAM,2BAA2B;AAGjC,MAAM,qBAAqB,GAAG,yBAAyB,KAAK,CAAC;AAG7D,MAAM,uBAAuB,GAAG,yBAAyB,OAAO,CAAC;AAGjE,MAAM,iBAAiB;AAGvB,MAAM,4BAA4B;AAGlC,MAAM,4BAA4B;AAGlC,MAAM,0BAA0B;IACnC;IACA;IACA;IACA;IACA;CACH"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/services/workspace/storage.ts"],"sourcesContent":["/**\n * Workspace Storage Service\n *\n * Handles persistence of workspaces to localStorage\n */\n\nimport type { Workspace, WorkspaceListItem, WorkspaceToolData, ToolData } from \"./types\";\nimport {\n    WORKSPACE_STORAGE_PREFIX,\n    WORKSPACE_LIST_KEY,\n    ACTIVE_WORKSPACE_KEY,\n    MAX_WORKSPACES,\n    MAX_WORKSPACE_NAME_LENGTH,\n    MIN_WORKSPACE_NAME_LENGTH,\n} from \"./constants\";\n\n/**\n * Generate a unique workspace ID\n */\nexport function generateWorkspaceId(): string {\n    return `ws_${Date.now()}_${Math.random().toString(36).substring(2, 9)}`;\n}\n\n/**\n * Get the storage key for a workspace's data\n */\nfunction getWorkspaceDataKey(id: string): string {\n    return `${WORKSPACE_STORAGE_PREFIX}:data:${id}`;\n}\n\n/**\n * Validate workspace name\n */\nexport function validateWorkspaceName(\n    name: string,\n    existingNames: string[] = [],\n    excludeId?: string\n): { valid: boolean; error?: string } {\n    const trimmed = name.trim();\n\n    if (trimmed.length < MIN_WORKSPACE_NAME_LENGTH) {\n        return { valid: false, error: \"Workspace name cannot be empty\" };\n    }\n\n    if (trimmed.length > MAX_WORKSPACE_NAME_LENGTH) {\n        return { valid: false, error: `Workspace name cannot exceed ${MAX_WORKSPACE_NAME_LENGTH} characters` };\n    }\n\n    // Check for duplicate names (case-insensitive)\n    const lowerName = trimmed.toLowerCase();\n    const isDuplicate = existingNames.some((existing) => existing.toLowerCase() === lowerName);\n    if (isDuplicate) {\n        return { valid: false, error: \"A workspace with this name already exists\" };\n    }\n\n    return { valid: true };\n}\n\n/**\n * Check if we can create more workspaces\n */\nexport function canCreateWorkspace(currentCount: number): { allowed: boolean; error?: string } {\n    if (currentCount >= MAX_WORKSPACES) {\n        return { allowed: false, error: `Maximum of ${MAX_WORKSPACES} workspaces allowed` };\n    }\n    return { allowed: true };\n}\n\n/**\n * Load workspace list metadata from storage\n */\nexport function loadWorkspaceList(): WorkspaceListItem[] {\n    if (typeof window === \"undefined\") return [];\n\n    try {\n        const stored = localStorage.getItem(WORKSPACE_LIST_KEY);\n        if (!stored) return [];\n        return JSON.parse(stored) as WorkspaceListItem[];\n    } catch {\n        console.error(\"Failed to load workspace list\");\n        return [];\n    }\n}\n\n/**\n * Save workspace list metadata to storage\n */\nexport function saveWorkspaceList(list: WorkspaceListItem[]): void {\n    if (typeof window === \"undefined\") return;\n\n    try {\n        localStorage.setItem(WORKSPACE_LIST_KEY, JSON.stringify(list));\n    } catch (error) {\n        console.error(\"Failed to save workspace list:\", error);\n    }\n}\n\n/**\n * Load active workspace ID from storage\n */\nexport function loadActiveWorkspaceId(): string | null {\n    if (typeof window === \"undefined\") return null;\n\n    try {\n        return localStorage.getItem(ACTIVE_WORKSPACE_KEY);\n    } catch {\n        return null;\n    }\n}\n\n/**\n * Save active workspace ID to storage\n */\nexport function saveActiveWorkspaceId(id: string | null): void {\n    if (typeof window === \"undefined\") return;\n\n    try {\n        if (id === null) {\n            localStorage.removeItem(ACTIVE_WORKSPACE_KEY);\n        } else {\n            localStorage.setItem(ACTIVE_WORKSPACE_KEY, id);\n        }\n    } catch (error) {\n        console.error(\"Failed to save active workspace ID:\", error);\n    }\n}\n\n/**\n * Load workspace data from storage\n */\nexport function loadWorkspaceData(id: string): WorkspaceToolData | null {\n    if (typeof window === \"undefined\") return null;\n\n    try {\n        const stored = localStorage.getItem(getWorkspaceDataKey(id));\n        if (!stored) return {};\n        return JSON.parse(stored) as WorkspaceToolData;\n    } catch {\n        console.error(`Failed to load workspace data for ${id}`);\n        return null;\n    }\n}\n\n/**\n * Save workspace data to storage\n */\nexport function saveWorkspaceData(id: string, data: WorkspaceToolData): void {\n    if (typeof window === \"undefined\") return;\n\n    try {\n        localStorage.setItem(getWorkspaceDataKey(id), JSON.stringify(data));\n    } catch (error) {\n        console.error(`Failed to save workspace data for ${id}:`, error);\n    }\n}\n\n/**\n * Delete workspace data from storage\n */\nexport function deleteWorkspaceData(id: string): void {\n    if (typeof window === \"undefined\") return;\n\n    try {\n        localStorage.removeItem(getWorkspaceDataKey(id));\n    } catch (error) {\n        console.error(`Failed to delete workspace data for ${id}:`, error);\n    }\n}\n\n/**\n * Load a complete workspace (metadata + data)\n */\nexport function loadWorkspace(id: string, list: WorkspaceListItem[]): Workspace | null {\n    const metadata = list.find((w) => w.id === id);\n    if (!metadata) return null;\n\n    const data = loadWorkspaceData(id);\n    if (data === null) return null;\n\n    return {\n        ...metadata,\n        data,\n    };\n}\n\n/**\n * Create a new workspace\n */\nexport function createWorkspace(name: string, list: WorkspaceListItem[]): { workspace: Workspace; newList: WorkspaceListItem[] } | { error: string } {\n    const validation = validateWorkspaceName(name);\n    if (!validation.valid) {\n        return { error: validation.error! };\n    }\n\n    const canCreate = canCreateWorkspace(list.length);\n    if (!canCreate.allowed) {\n        return { error: canCreate.error! };\n    }\n\n    const now = Date.now();\n    const workspace: Workspace = {\n        id: generateWorkspaceId(),\n        name: name.trim(),\n        createdAt: now,\n        updatedAt: now,\n        data: {},\n    };\n\n    const newList: WorkspaceListItem[] = [\n        ...list,\n        {\n            id: workspace.id,\n            name: workspace.name,\n            createdAt: workspace.createdAt,\n            updatedAt: workspace.updatedAt,\n        },\n    ];\n\n    // Save to storage\n    saveWorkspaceList(newList);\n    saveWorkspaceData(workspace.id, workspace.data);\n\n    return { workspace, newList };\n}\n\n/**\n * Update workspace metadata\n */\nexport function updateWorkspaceMetadata(\n    id: string,\n    updates: Partial<Pick<WorkspaceListItem, \"name\">>,\n    list: WorkspaceListItem[]\n): WorkspaceListItem[] {\n    const newList = list.map((w) => {\n        if (w.id === id) {\n            return {\n                ...w,\n                ...updates,\n                updatedAt: Date.now(),\n            };\n        }\n        return w;\n    });\n\n    saveWorkspaceList(newList);\n    return newList;\n}\n\n/**\n * Delete a workspace\n */\nexport function deleteWorkspace(id: string, list: WorkspaceListItem[]): WorkspaceListItem[] {\n    const newList = list.filter((w) => w.id !== id);\n    saveWorkspaceList(newList);\n    deleteWorkspaceData(id);\n    return newList;\n}\n\n/**\n * Update tool data in a workspace\n */\nexport function updateToolData<T extends ToolData>(\n    workspaceId: string,\n    toolId: string,\n    data: T,\n    currentData: WorkspaceToolData\n): WorkspaceToolData {\n    const newData = {\n        ...currentData,\n        [toolId]: data,\n    };\n    saveWorkspaceData(workspaceId, newData);\n    return newData;\n}\n\n/**\n * Clear tool data from a workspace\n */\nexport function clearToolData(\n    workspaceId: string,\n    toolId: string,\n    currentData: WorkspaceToolData\n): WorkspaceToolData {\n    const { [toolId]: _, ...rest } = currentData;\n    saveWorkspaceData(workspaceId, rest);\n    return rest;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 455, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/lib/workspace.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n    createContext,\n    useContext,\n    useState,\n    useEffect,\n    useCallback,\n    useRef,\n    ReactNode,\n} from \"react\";\nimport { saveAs } from \"file-saver\";\nimport type {\n    Workspace,\n    WorkspaceListItem,\n    WorkspaceContextValue,\n    WorkspaceExport,\n    ToolData,\n} from \"@/services/workspace/types\";\nimport {\n    loadWorkspaceList,\n    loadActiveWorkspaceId,\n    saveActiveWorkspaceId,\n    loadWorkspace,\n    createWorkspace as createWorkspaceStorage,\n    updateWorkspaceMetadata,\n    deleteWorkspace as deleteWorkspaceStorage,\n    updateToolData as updateToolDataStorage,\n    clearToolData as clearToolDataStorage,\n    saveWorkspaceData,\n    saveWorkspaceList,\n    generateWorkspaceId,\n} from \"@/services/workspace/storage\";\nimport { MAX_WORKSPACES } from \"@/services/workspace/constants\";\n\nconst WorkspaceContext = createContext<WorkspaceContextValue | undefined>(undefined);\n\nexport function WorkspaceProvider({ children }: { children: ReactNode }) {\n    const [workspaces, setWorkspaces] = useState<WorkspaceListItem[]>([]);\n    const [activeWorkspace, setActiveWorkspace] = useState<Workspace | null>(null);\n    const [isLoaded, setIsLoaded] = useState(false);\n\n    // Load workspaces from storage on mount\n    useEffect(() => {\n        const list = loadWorkspaceList();\n        setWorkspaces(list);\n\n        const activeId = loadActiveWorkspaceId();\n        if (activeId) {\n            const workspace = loadWorkspace(activeId, list);\n            setActiveWorkspace(workspace);\n        }\n\n        setIsLoaded(true);\n    }, []);\n\n    // Create a new workspace and auto-select it\n    const createWorkspace = useCallback((name: string): Workspace => {\n        const result = createWorkspaceStorage(name, workspaces);\n\n        if (\"error\" in result) {\n            throw new Error(result.error);\n        }\n\n        setWorkspaces(result.newList);\n\n        // Auto-select the newly created workspace\n        setActiveWorkspace(result.workspace);\n        saveActiveWorkspaceId(result.workspace.id);\n\n        return result.workspace;\n    }, [workspaces]);\n\n    // Select/activate a workspace\n    const selectWorkspace = useCallback((id: string | null) => {\n        if (id === null) {\n            setActiveWorkspace(null);\n            saveActiveWorkspaceId(null);\n            return;\n        }\n\n        const workspace = loadWorkspace(id, workspaces);\n        if (workspace) {\n            setActiveWorkspace(workspace);\n            saveActiveWorkspaceId(id);\n        }\n    }, [workspaces]);\n\n    // Rename a workspace\n    const renameWorkspace = useCallback((id: string, newName: string) => {\n        const newList = updateWorkspaceMetadata(id, { name: newName.trim() }, workspaces);\n        setWorkspaces(newList);\n\n        // Update active workspace if it's the one being renamed\n        if (activeWorkspace?.id === id) {\n            setActiveWorkspace((prev) =>\n                prev ? { ...prev, name: newName.trim(), updatedAt: Date.now() } : null\n            );\n        }\n    }, [workspaces, activeWorkspace?.id]);\n\n    // Delete a workspace\n    const deleteWorkspace = useCallback((id: string) => {\n        const newList = deleteWorkspaceStorage(id, workspaces);\n        setWorkspaces(newList);\n\n        // Deactivate if the deleted workspace was active\n        if (activeWorkspace?.id === id) {\n            setActiveWorkspace(null);\n            saveActiveWorkspaceId(null);\n        }\n    }, [workspaces, activeWorkspace?.id]);\n\n    // Get tool data from active workspace\n    const getToolData = useCallback(<T extends ToolData>(toolId: string): T | null => {\n        if (!activeWorkspace) return null;\n        return (activeWorkspace.data[toolId] as T) || null;\n    }, [activeWorkspace]);\n\n    // Set tool data in active workspace\n    const setToolData = useCallback(<T extends ToolData>(toolId: string, data: T) => {\n        if (!activeWorkspace) return;\n\n        const newData = updateToolDataStorage(activeWorkspace.id, toolId, data, activeWorkspace.data);\n        const now = Date.now();\n\n        setActiveWorkspace((prev) =>\n            prev ? { ...prev, data: newData, updatedAt: now } : null\n        );\n\n        // Update the workspace list metadata\n        const newList = workspaces.map((w) =>\n            w.id === activeWorkspace.id ? { ...w, updatedAt: now } : w\n        );\n        setWorkspaces(newList);\n        saveWorkspaceList(newList);\n    }, [activeWorkspace, workspaces]);\n\n    // Update specific fields in tool data\n    const updateToolData = useCallback(<T extends ToolData>(toolId: string, updates: Partial<T>) => {\n        if (!activeWorkspace) return;\n\n        const currentData = (activeWorkspace.data[toolId] || {}) as T;\n        const mergedData = { ...currentData, ...updates };\n        const newData = updateToolDataStorage(activeWorkspace.id, toolId, mergedData, activeWorkspace.data);\n        const now = Date.now();\n\n        setActiveWorkspace((prev) =>\n            prev ? { ...prev, data: newData, updatedAt: now } : null\n        );\n\n        // Update the workspace list metadata\n        const newList = workspaces.map((w) =>\n            w.id === activeWorkspace.id ? { ...w, updatedAt: now } : w\n        );\n        setWorkspaces(newList);\n        saveWorkspaceList(newList);\n    }, [activeWorkspace, workspaces]);\n\n    // Clear tool data from active workspace\n    const clearToolData = useCallback((toolId: string) => {\n        if (!activeWorkspace) return;\n\n        const newData = clearToolDataStorage(activeWorkspace.id, toolId, activeWorkspace.data);\n        const now = Date.now();\n\n        setActiveWorkspace((prev) =>\n            prev ? { ...prev, data: newData, updatedAt: now } : null\n        );\n\n        // Update the workspace list metadata\n        const newList = workspaces.map((w) =>\n            w.id === activeWorkspace.id ? { ...w, updatedAt: now } : w\n        );\n        setWorkspaces(newList);\n        saveWorkspaceList(newList);\n    }, [activeWorkspace, workspaces]);\n\n    // Export workspace to JSON file\n    const exportWorkspace = useCallback((id: string) => {\n        const workspace = loadWorkspace(id, workspaces);\n        if (!workspace) {\n            throw new Error(\"Workspace not found\");\n        }\n\n        const exportData: WorkspaceExport = {\n            version: 1,\n            exportedAt: Date.now(),\n            workspace,\n        };\n\n        const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: \"application/json\" });\n        const filename = `workspace-${workspace.name.toLowerCase().replace(/\\s+/g, \"-\")}.json`;\n        saveAs(blob, filename);\n    }, [workspaces]);\n\n    // Import workspace from JSON file\n    const importWorkspace = useCallback(async (file: File): Promise<Workspace> => {\n        // Check if we can create more workspaces\n        if (workspaces.length >= MAX_WORKSPACES) {\n            throw new Error(`Maximum of ${MAX_WORKSPACES} workspaces allowed`);\n        }\n\n        const text = await file.text();\n        const data = JSON.parse(text) as WorkspaceExport;\n\n        // Validate export format\n        if (data.version !== 1 || !data.workspace) {\n            throw new Error(\"Invalid workspace file format\");\n        }\n\n        const imported = data.workspace;\n\n        // Generate new ID and timestamps for imported workspace\n        const now = Date.now();\n        const newWorkspace: Workspace = {\n            ...imported,\n            id: generateWorkspaceId(),\n            name: imported.name + \" (imported)\",\n            createdAt: now,\n            updatedAt: now,\n        };\n\n        // Add to list\n        const newListItem: WorkspaceListItem = {\n            id: newWorkspace.id,\n            name: newWorkspace.name,\n            createdAt: newWorkspace.createdAt,\n            updatedAt: newWorkspace.updatedAt,\n        };\n        const newList = [...workspaces, newListItem];\n        setWorkspaces(newList);\n        saveWorkspaceList(newList);\n        saveWorkspaceData(newWorkspace.id, newWorkspace.data);\n\n        // Auto-select imported workspace\n        setActiveWorkspace(newWorkspace);\n        saveActiveWorkspaceId(newWorkspace.id);\n\n        return newWorkspace;\n    }, [workspaces]);\n\n    const value: WorkspaceContextValue = {\n        activeWorkspace,\n        workspaces,\n        isLoaded,\n        createWorkspace,\n        selectWorkspace,\n        renameWorkspace,\n        deleteWorkspace,\n        getToolData,\n        setToolData,\n        updateToolData,\n        clearToolData,\n        exportWorkspace,\n        importWorkspace,\n    };\n\n    return (\n        <WorkspaceContext.Provider value={value}>\n            {children}\n        </WorkspaceContext.Provider>\n    );\n}\n\nexport function useWorkspace() {\n    const context = useContext(WorkspaceContext);\n    if (context === undefined) {\n        throw new Error(\"useWorkspace must be used within a WorkspaceProvider\");\n    }\n    return context;\n}\n\n/**\n * Safe version of useWorkspace that returns null if not within a provider\n * Use this when the component might render outside of WorkspaceProvider\n */\nexport function useWorkspaceSafe() {\n    const context = useContext(WorkspaceContext);\n    return context ?? null;\n}\n\n/**\n * Hook for tools to easily access their workspace data\n */\nexport function useToolWorkspace<T extends ToolData>(toolId: string) {\n    const context = useContext(WorkspaceContext);\n\n    // Return null-safe defaults if not within provider\n    const isWithinProvider = context !== undefined;\n\n    const activeWorkspace = context?.activeWorkspace ?? null;\n    const getToolData = context?.getToolData ?? (() => null);\n    const setToolData = context?.setToolData ?? (() => { });\n    const updateToolData = context?.updateToolData ?? (() => { });\n    const clearToolData = context?.clearToolData ?? (() => { });\n    const isLoaded = context?.isLoaded ?? true;\n\n    const data = isWithinProvider ? getToolData<T>(toolId) : null;\n    const isActive = activeWorkspace !== null;\n    const workspaceId = activeWorkspace?.id || null;\n\n    const save = useCallback((newData: T) => {\n        setToolData(toolId, newData);\n    }, [setToolData, toolId]);\n\n    const update = useCallback((updates: Partial<T>) => {\n        updateToolData(toolId, updates);\n    }, [updateToolData, toolId]);\n\n    const clear = useCallback(() => {\n        clearToolData(toolId);\n    }, [clearToolData, toolId]);\n\n    return {\n        /** Whether a workspace is active (data will be saved) */\n        isActive,\n        /** Whether the workspace context is loaded */\n        isLoaded,\n        /** Current tool data from workspace (null if no workspace or no data) */\n        data,\n        /** Active workspace ID (null if none) - use to detect workspace changes */\n        workspaceId,\n        /** Active workspace name (null if none) */\n        workspaceName: activeWorkspace?.name || null,\n        /** Save complete tool data */\n        save,\n        /** Update partial tool data (merges with existing) */\n        update,\n        /** Clear tool data from workspace */\n        clear,\n    };\n}\n\n/**\n * Hook that handles automatic workspace data synchronization.\n * Simplifies the common pattern of loading/saving tool state to workspace.\n * \n * @param toolId - Unique identifier for the tool\n * @param currentState - Current state to save\n * @param onLoad - Callback to load state from workspace data\n * @param onReset - Callback to reset state to defaults\n */\nexport function useWorkspaceSync<T extends ToolData>(\n    toolId: string,\n    currentState: T,\n    onLoad: (data: T) => void,\n    onReset: () => void,\n) {\n    const { isActive, isLoaded, data: workspaceData, workspaceId, save } = useToolWorkspace<T>(toolId);\n    const previousWorkspaceId = useRef<string | null | undefined>(undefined);\n    const isLoadingFromWorkspace = useRef(false);\n    const saveRef = useRef(save);\n    saveRef.current = save;\n\n    // Load/reset data when workspace changes\n    useEffect(() => {\n        if (!isLoaded) return;\n\n        // Skip if workspace hasn't actually changed\n        if (previousWorkspaceId.current === workspaceId) return;\n        previousWorkspaceId.current = workspaceId;\n        isLoadingFromWorkspace.current = true;\n\n        if (workspaceData) {\n            onLoad(workspaceData);\n        } else {\n            onReset();\n        }\n\n        // Allow saves after state updates settle\n        requestAnimationFrame(() => {\n            isLoadingFromWorkspace.current = false;\n        });\n    }, [isLoaded, workspaceId, workspaceData, onLoad, onReset]);\n\n    // Save to workspace when state changes\n    useEffect(() => {\n        if (!isActive || !isLoaded) return;\n        // Don't save during initial load or workspace load\n        if (previousWorkspaceId.current === undefined || isLoadingFromWorkspace.current) return;\n\n        saveRef.current(currentState);\n    }, [currentState, isActive, isLoaded]);\n\n    return { isActive, isLoaded, workspaceId };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 889, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/services/pomodoro/types.ts"],"sourcesContent":["/**\n * Pomodoro Timer Types\n */\n\n/** Timer session types */\nexport type SessionType = \"pomodoro\" | \"shortBreak\" | \"longBreak\";\n\n/** Timer state */\nexport type TimerState = \"idle\" | \"running\" | \"paused\";\n\n/** Timer settings */\nexport interface PomodoroSettings {\n    /** Pomodoro duration in minutes */\n    pomodoroDuration: number;\n    /** Short break duration in minutes */\n    shortBreakDuration: number;\n    /** Long break duration in minutes */\n    longBreakDuration: number;\n    /** Number of pomodoros before long break */\n    pomodorosBeforeLongBreak: number;\n    /** Auto-start breaks */\n    autoStartBreaks: boolean;\n    /** Auto-start pomodoros */\n    autoStartPomodoros: boolean;\n    /** Play sound on session end */\n    playSound: boolean;\n}\n\n/** Timer session data */\nexport interface TimerSession {\n    /** Current session type */\n    type: SessionType;\n    /** Time remaining in seconds */\n    timeRemaining: number;\n    /** Total time for current session in seconds */\n    totalTime: number;\n    /** Current timer state */\n    state: TimerState;\n    /** Number of completed pomodoros in current cycle */\n    completedPomodoros: number;\n}\n\n/** Workspace data structure for Pomodoro Timer */\nexport interface PomodoroWorkspaceData {\n    settings: PomodoroSettings;\n    /** Total pomodoros completed (lifetime) */\n    totalPomodorosCompleted: number;\n    /** Current session state (for persistence across page refresh) */\n    session?: TimerSession;\n    /** Whether the playbar should be visible */\n    showPlaybar?: boolean;\n    /** Timestamp when timer was last saved (for calculating elapsed time) */\n    lastSavedAt?: number;\n}\n\n/** Session display info */\nexport interface SessionInfo {\n    label: string;\n    color: string;\n    bgColor: string;\n}\n"],"names":[],"mappings":"AAAA;;CAEC,GAED,wBAAwB"}},
    {"offset": {"line": 900, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/services/pomodoro/constants.ts"],"sourcesContent":["/**\n * Pomodoro Timer Constants\n */\n\nimport type { PomodoroSettings, SessionType, SessionInfo } from \"./types\";\n\n/** Default timer settings */\nexport const DEFAULT_SETTINGS: PomodoroSettings = {\n    pomodoroDuration: 25,\n    shortBreakDuration: 5,\n    longBreakDuration: 15,\n    pomodorosBeforeLongBreak: 4,\n    autoStartBreaks: false,\n    autoStartPomodoros: false,\n    playSound: true,\n};\n\n/** Minimum values for settings */\nexport const MIN_POMODORO_DURATION = 1;\nexport const MIN_BREAK_DURATION = 1;\nexport const MIN_POMODOROS_BEFORE_LONG_BREAK = 2;\n\n/** Maximum values for settings */\nexport const MAX_POMODORO_DURATION = 120;\nexport const MAX_BREAK_DURATION = 60;\nexport const MAX_POMODOROS_BEFORE_LONG_BREAK = 10;\n\n/** Preset configurations */\nexport const PRESETS: Record<string, PomodoroSettings> = {\n    classic: {\n        pomodoroDuration: 25,\n        shortBreakDuration: 5,\n        longBreakDuration: 15,\n        pomodorosBeforeLongBreak: 4,\n        autoStartBreaks: false,\n        autoStartPomodoros: false,\n        playSound: true,\n    },\n    short: {\n        pomodoroDuration: 15,\n        shortBreakDuration: 3,\n        longBreakDuration: 10,\n        pomodorosBeforeLongBreak: 4,\n        autoStartBreaks: false,\n        autoStartPomodoros: false,\n        playSound: true,\n    },\n    long: {\n        pomodoroDuration: 50,\n        shortBreakDuration: 10,\n        longBreakDuration: 30,\n        pomodorosBeforeLongBreak: 4,\n        autoStartBreaks: false,\n        autoStartPomodoros: false,\n        playSound: true,\n    },\n};\n\n/** Session type display info */\nexport const SESSION_INFO: Record<SessionType, SessionInfo> = {\n    pomodoro: {\n        label: \"Focus Time\",\n        color: \"text-red-600 dark:text-red-400\",\n        bgColor: \"bg-red-500\",\n    },\n    shortBreak: {\n        label: \"Short Break\",\n        color: \"text-green-600 dark:text-green-400\",\n        bgColor: \"bg-green-500\",\n    },\n    longBreak: {\n        label: \"Long Break\",\n        color: \"text-blue-600 dark:text-blue-400\",\n        bgColor: \"bg-blue-500\",\n    },\n};\n\n/** Duration presets in minutes */\nexport const DURATION_PRESETS = {\n    pomodoro: [15, 20, 25, 30, 45, 50, 60],\n    shortBreak: [3, 5, 10, 15],\n    longBreak: [10, 15, 20, 30],\n};\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;;;;;;;AAKM,MAAM,mBAAqC;IAC9C,kBAAkB;IAClB,oBAAoB;IACpB,mBAAmB;IACnB,0BAA0B;IAC1B,iBAAiB;IACjB,oBAAoB;IACpB,WAAW;AACf;AAGO,MAAM,wBAAwB;AAC9B,MAAM,qBAAqB;AAC3B,MAAM,kCAAkC;AAGxC,MAAM,wBAAwB;AAC9B,MAAM,qBAAqB;AAC3B,MAAM,kCAAkC;AAGxC,MAAM,UAA4C;IACrD,SAAS;QACL,kBAAkB;QAClB,oBAAoB;QACpB,mBAAmB;QACnB,0BAA0B;QAC1B,iBAAiB;QACjB,oBAAoB;QACpB,WAAW;IACf;IACA,OAAO;QACH,kBAAkB;QAClB,oBAAoB;QACpB,mBAAmB;QACnB,0BAA0B;QAC1B,iBAAiB;QACjB,oBAAoB;QACpB,WAAW;IACf;IACA,MAAM;QACF,kBAAkB;QAClB,oBAAoB;QACpB,mBAAmB;QACnB,0BAA0B;QAC1B,iBAAiB;QACjB,oBAAoB;QACpB,WAAW;IACf;AACJ;AAGO,MAAM,eAAiD;IAC1D,UAAU;QACN,OAAO;QACP,OAAO;QACP,SAAS;IACb;IACA,YAAY;QACR,OAAO;QACP,OAAO;QACP,SAAS;IACb;IACA,WAAW;QACP,OAAO;QACP,OAAO;QACP,SAAS;IACb;AACJ;AAGO,MAAM,mBAAmB;IAC5B,UAAU;QAAC;QAAI;QAAI;QAAI;QAAI;QAAI;QAAI;KAAG;IACtC,YAAY;QAAC;QAAG;QAAG;QAAI;KAAG;IAC1B,WAAW;QAAC;QAAI;QAAI;QAAI;KAAG;AAC/B"}},
    {"offset": {"line": 1015, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/services/pomodoro/utils.ts"],"sourcesContent":["/**\n * Pomodoro Timer Utilities\n */\n\nimport type { SessionType, PomodoroSettings } from \"./types\";\n\n/**\n * Convert minutes to seconds\n */\nexport function minutesToSeconds(minutes: number): number {\n    return minutes * 60;\n}\n\n/**\n * Convert seconds to minutes\n */\nexport function secondsToMinutes(seconds: number): number {\n    return Math.floor(seconds / 60);\n}\n\n/**\n * Format time as MM:SS\n */\nexport function formatTime(seconds: number): string {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins.toString().padStart(2, \"0\")}:${secs.toString().padStart(2, \"0\")}`;\n}\n\n/**\n * Format time as human readable string\n */\nexport function formatTimeHuman(seconds: number): string {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n\n    if (mins === 0) {\n        return `${secs}s`;\n    }\n    if (secs === 0) {\n        return `${mins}m`;\n    }\n    return `${mins}m ${secs}s`;\n}\n\n/**\n * Get duration for a session type from settings\n */\nexport function getSessionDuration(type: SessionType, settings: PomodoroSettings): number {\n    switch (type) {\n        case \"pomodoro\":\n            return minutesToSeconds(settings.pomodoroDuration);\n        case \"shortBreak\":\n            return minutesToSeconds(settings.shortBreakDuration);\n        case \"longBreak\":\n            return minutesToSeconds(settings.longBreakDuration);\n    }\n}\n\n/**\n * Calculate progress percentage\n */\nexport function calculateProgress(timeRemaining: number, totalTime: number): number {\n    if (totalTime === 0) return 0;\n    return ((totalTime - timeRemaining) / totalTime) * 100;\n}\n\n/**\n * Determine next session type\n */\nexport function getNextSessionType(\n    currentType: SessionType,\n    completedPomodoros: number,\n    pomodorosBeforeLongBreak: number\n): SessionType {\n    if (currentType === \"pomodoro\") {\n        // After a pomodoro, check if we should take a long break\n        if ((completedPomodoros + 1) % pomodorosBeforeLongBreak === 0) {\n            return \"longBreak\";\n        }\n        return \"shortBreak\";\n    }\n    // After any break, return to pomodoro\n    return \"pomodoro\";\n}\n\n/**\n * Validate settings value is within bounds\n */\nexport function clampValue(value: number, min: number, max: number): number {\n    return Math.min(Math.max(value, min), max);\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;;;AAOM,SAAS,iBAAiB,OAAe;IAC5C,OAAO,UAAU;AACrB;AAKO,SAAS,iBAAiB,OAAe;IAC5C,OAAO,KAAK,KAAK,CAAC,UAAU;AAChC;AAKO,SAAS,WAAW,OAAe;IACtC,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,MAAM,OAAO,UAAU;IACvB,OAAO,GAAG,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;AACpF;AAKO,SAAS,gBAAgB,OAAe;IAC3C,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;IAClC,MAAM,OAAO,UAAU;IAEvB,IAAI,SAAS,GAAG;QACZ,OAAO,GAAG,KAAK,CAAC,CAAC;IACrB;IACA,IAAI,SAAS,GAAG;QACZ,OAAO,GAAG,KAAK,CAAC,CAAC;IACrB;IACA,OAAO,GAAG,KAAK,EAAE,EAAE,KAAK,CAAC,CAAC;AAC9B;AAKO,SAAS,mBAAmB,IAAiB,EAAE,QAA0B;IAC5E,OAAQ;QACJ,KAAK;YACD,OAAO,iBAAiB,SAAS,gBAAgB;QACrD,KAAK;YACD,OAAO,iBAAiB,SAAS,kBAAkB;QACvD,KAAK;YACD,OAAO,iBAAiB,SAAS,iBAAiB;IAC1D;AACJ;AAKO,SAAS,kBAAkB,aAAqB,EAAE,SAAiB;IACtE,IAAI,cAAc,GAAG,OAAO;IAC5B,OAAO,AAAC,CAAC,YAAY,aAAa,IAAI,YAAa;AACvD;AAKO,SAAS,mBACZ,WAAwB,EACxB,kBAA0B,EAC1B,wBAAgC;IAEhC,IAAI,gBAAgB,YAAY;QAC5B,yDAAyD;QACzD,IAAI,CAAC,qBAAqB,CAAC,IAAI,6BAA6B,GAAG;YAC3D,OAAO;QACX;QACA,OAAO;IACX;IACA,sCAAsC;IACtC,OAAO;AACX;AAKO,SAAS,WAAW,KAAa,EAAE,GAAW,EAAE,GAAW;IAC9D,OAAO,KAAK,GAAG,CAAC,KAAK,GAAG,CAAC,OAAO,MAAM;AAC1C"}},
    {"offset": {"line": 1092, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/services/pomodoro/index.ts"],"sourcesContent":["/**\n * Pomodoro Timer Service\n * \n * Exports types, constants, and utilities for the Pomodoro Timer tool.\n */\n\nexport * from \"./types\";\nexport * from \"./constants\";\nexport * from \"./utils\";\n"],"names":[],"mappings":"AAAA;;;;CAIC;AAED;AACA;AACA"}},
    {"offset": {"line": 1110, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/lib/pomodoro-context.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n    createContext,\n    useContext,\n    useState,\n    useEffect,\n    useRef,\n    useCallback,\n    useMemo,\n    type ReactNode,\n} from \"react\";\nimport { toast } from \"sonner\";\nimport {\n    type SessionType,\n    type PomodoroSettings,\n    type TimerSession,\n    type PomodoroWorkspaceData,\n    DEFAULT_SETTINGS,\n    SESSION_INFO,\n    PRESETS,\n    formatTime,\n    getSessionDuration,\n    calculateProgress,\n    getNextSessionType,\n} from \"@/services/pomodoro\";\nimport { useToolWorkspace } from \"@/lib/workspace\";\n\n// Session end notification sounds (plays sound for the NEXT session type)\nfunction playSessionEndSound(nextSessionType: SessionType) {\n    try {\n        const audioContext = new (window.AudioContext || (window as unknown as { webkitAudioContext: typeof AudioContext }).webkitAudioContext)();\n        const oscillator = audioContext.createOscillator();\n        const gainNode = audioContext.createGain();\n\n        oscillator.connect(gainNode);\n        gainNode.connect(audioContext.destination);\n\n        // Different sounds based on what's coming next\n        let frequency: number;\n        let duration: number;\n\n        switch (nextSessionType) {\n            case \"pomodoro\":\n                // Back to work sound - medium pitch, medium duration\n                frequency = 660;\n                duration = 0.5;\n                break;\n            case \"shortBreak\":\n                // Short break starting - high-medium pitch, short duration\n                frequency = 880;\n                duration = 0.3;\n                break;\n            case \"longBreak\":\n                // Long break starting - low-medium pitch, longer duration (rewarding)\n                frequency = 440;\n                duration = 0.5;\n                break;\n        }\n\n        oscillator.frequency.value = frequency;\n        oscillator.type = \"sine\";\n\n        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);\n\n        oscillator.start(audioContext.currentTime);\n        oscillator.stop(audioContext.currentTime + duration);\n    } catch {\n        // Audio not supported\n    }\n}\n\n// Click sound when starting timer\nfunction playClickSound() {\n    try {\n        const audioContext = new (window.AudioContext || (window as unknown as { webkitAudioContext: typeof AudioContext }).webkitAudioContext)();\n        const oscillator = audioContext.createOscillator();\n        const gainNode = audioContext.createGain();\n\n        oscillator.connect(gainNode);\n        gainNode.connect(audioContext.destination);\n\n        // Short, subtle click sound\n        oscillator.frequency.value = 1200;\n        oscillator.type = \"sine\";\n\n        gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);\n        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.05);\n\n        oscillator.start(audioContext.currentTime);\n        oscillator.stop(audioContext.currentTime + 0.05);\n    } catch {\n        // Audio not supported\n    }\n}\n\ninterface PomodoroContextValue {\n    // Settings\n    settings: PomodoroSettings;\n    updateSetting: <K extends keyof PomodoroSettings>(key: K, value: PomodoroSettings[K]) => void;\n    applyPreset: (presetName: string) => void;\n\n    // Session state\n    session: TimerSession;\n    totalPomodorosCompleted: number;\n    sessionInfo: { label: string; color: string; bgColor: string };\n    progress: number;\n    isRunning: boolean;\n    isPaused: boolean;\n    isIdle: boolean;\n\n    // Controls\n    startTimer: () => void;\n    pauseTimer: () => void;\n    resetTimer: () => void;\n    skipSession: () => void;\n    selectSessionType: (type: SessionType) => void;\n\n    // Playbar visibility\n    showPlaybar: boolean;\n    setShowPlaybar: (show: boolean) => void;\n    togglePlaybar: () => void;\n}\n\nconst PomodoroContext = createContext<PomodoroContextValue | null>(null);\n\nexport function usePomodoroContext() {\n    const context = useContext(PomodoroContext);\n    if (!context) {\n        throw new Error(\"usePomodoroContext must be used within a PomodoroProvider\");\n    }\n    return context;\n}\n\n// Safe hook that doesn't throw - returns null if not in context\nexport function usePomodoroContextSafe() {\n    return useContext(PomodoroContext);\n}\n\ninterface PomodoroProviderProps {\n    children: ReactNode;\n}\n\nexport function PomodoroProvider({ children }: PomodoroProviderProps) {\n    // Settings state\n    const [settings, setSettings] = useState<PomodoroSettings>(DEFAULT_SETTINGS);\n    const [totalPomodorosCompleted, setTotalPomodorosCompleted] = useState(0);\n\n    // Timer session state\n    const [session, setSession] = useState<TimerSession>(() => ({\n        type: \"pomodoro\",\n        timeRemaining: getSessionDuration(\"pomodoro\", DEFAULT_SETTINGS),\n        totalTime: getSessionDuration(\"pomodoro\", DEFAULT_SETTINGS),\n        state: \"idle\",\n        completedPomodoros: 0,\n    }));\n\n    // Session counter to force timer effect to re-run when session changes\n    // This is needed because when auto-start is enabled, state goes from \"running\" to \"running\"\n    // and React won't detect a change\n    const [sessionCounter, setSessionCounter] = useState(0);\n\n    // UI state\n    const [showPlaybar, setShowPlaybar] = useState(false);\n\n    // Refs\n    const timerRef = useRef<NodeJS.Timeout | null>(null);\n    const isCompletingSession = useRef(false);\n\n    // Workspace integration\n    const { isActive, isLoaded, data: workspaceData, workspaceId, save } = useToolWorkspace<PomodoroWorkspaceData>(\"pomodoro-timer\");\n    const previousWorkspaceId = useRef<string | null | undefined>(undefined);\n    const isLoadingFromWorkspace = useRef(false);\n    const saveRef = useRef(save);\n    saveRef.current = save;\n\n    // Load/reset data when workspace changes\n    useEffect(() => {\n        if (!isLoaded) return;\n\n        if (previousWorkspaceId.current === workspaceId) return;\n        previousWorkspaceId.current = workspaceId;\n        isLoadingFromWorkspace.current = true;\n\n        if (workspaceData) {\n            if (workspaceData.settings) setSettings(workspaceData.settings);\n            if (workspaceData.totalPomodorosCompleted !== undefined) {\n                setTotalPomodorosCompleted(workspaceData.totalPomodorosCompleted);\n            }\n            if (workspaceData.showPlaybar !== undefined) {\n                setShowPlaybar(workspaceData.showPlaybar);\n            }\n\n            // Restore session state if available\n            if (workspaceData.session && workspaceData.lastSavedAt) {\n                const savedSession = workspaceData.session;\n                const elapsedSeconds = Math.floor((Date.now() - workspaceData.lastSavedAt) / 1000);\n\n                // Only restore if it was running and calculate new time\n                if (savedSession.state === \"running\") {\n                    const newTimeRemaining = Math.max(0, savedSession.timeRemaining - elapsedSeconds);\n\n                    if (newTimeRemaining > 0) {\n                        // Timer still has time left, restore it as running\n                        setSession({\n                            ...savedSession,\n                            timeRemaining: newTimeRemaining,\n                            state: \"running\",\n                        });\n                    } else {\n                        // Timer would have completed, move to next session\n                        const restoredSettings = workspaceData.settings || DEFAULT_SETTINGS;\n                        const nextType = getNextSessionType(\n                            savedSession.type,\n                            savedSession.completedPomodoros,\n                            restoredSettings.pomodorosBeforeLongBreak\n                        );\n                        const nextDuration = getSessionDuration(nextType, restoredSettings);\n\n                        // Calculate new completed pomodoros, reset after long break\n                        let newCompletedPomodoros: number;\n                        if (savedSession.type === \"longBreak\") {\n                            newCompletedPomodoros = 0; // Reset cycle after long break\n                        } else if (savedSession.type === \"pomodoro\") {\n                            newCompletedPomodoros = savedSession.completedPomodoros + 1;\n                        } else {\n                            newCompletedPomodoros = savedSession.completedPomodoros;\n                        }\n\n                        // Determine if we should auto-start based on settings\n                        const isNextBreak = nextType === \"shortBreak\" || nextType === \"longBreak\";\n                        const shouldAutoStart = isNextBreak\n                            ? restoredSettings.autoStartBreaks\n                            : restoredSettings.autoStartPomodoros;\n\n                        setSession({\n                            type: nextType,\n                            timeRemaining: nextDuration,\n                            totalTime: nextDuration,\n                            state: shouldAutoStart ? \"running\" : \"paused\",\n                            completedPomodoros: newCompletedPomodoros,\n                        });\n\n                        // Update total if a pomodoro was completed\n                        if (savedSession.type === \"pomodoro\") {\n                            setTotalPomodorosCompleted((prev) => prev + 1);\n                        }\n\n                        toast.info(\"Timer completed while away. Ready for next session!\");\n                    }\n                } else if (savedSession.state === \"paused\") {\n                    // Restore paused state as-is\n                    setSession(savedSession);\n                } else {\n                    // Idle state - restore with saved completedPomodoros if available\n                    setSession({\n                        ...savedSession,\n                        timeRemaining: getSessionDuration(savedSession.type, workspaceData?.settings || DEFAULT_SETTINGS),\n                        totalTime: getSessionDuration(savedSession.type, workspaceData?.settings || DEFAULT_SETTINGS),\n                        state: \"idle\",\n                    });\n                }\n            } else {\n                // No session data, reset timer\n                setSession({\n                    type: \"pomodoro\",\n                    timeRemaining: getSessionDuration(\"pomodoro\", workspaceData?.settings || DEFAULT_SETTINGS),\n                    totalTime: getSessionDuration(\"pomodoro\", workspaceData?.settings || DEFAULT_SETTINGS),\n                    state: \"idle\",\n                    completedPomodoros: 0,\n                });\n            }\n        } else {\n            setSettings(DEFAULT_SETTINGS);\n            setTotalPomodorosCompleted(0);\n            setShowPlaybar(false);\n            setSession({\n                type: \"pomodoro\",\n                timeRemaining: getSessionDuration(\"pomodoro\", DEFAULT_SETTINGS),\n                totalTime: getSessionDuration(\"pomodoro\", DEFAULT_SETTINGS),\n                state: \"idle\",\n                completedPomodoros: 0,\n            });\n        }\n\n        requestAnimationFrame(() => {\n            isLoadingFromWorkspace.current = false;\n        });\n    }, [isLoaded, workspaceId, workspaceData]);\n\n    // Save to workspace when state changes\n    useEffect(() => {\n        if (!isActive || !isLoaded) return;\n        if (previousWorkspaceId.current === undefined || isLoadingFromWorkspace.current) return;\n\n        saveRef.current({\n            settings,\n            totalPomodorosCompleted,\n            session,\n            showPlaybar,\n            lastSavedAt: Date.now(),\n        });\n    }, [settings, totalPomodorosCompleted, session, showPlaybar, isActive, isLoaded]);\n\n    // Handle session completion\n    const handleSessionComplete = useCallback((currentSession: TimerSession) => {\n        const wasPomodoro = currentSession.type === \"pomodoro\";\n        const wasLongBreak = currentSession.type === \"longBreak\";\n\n        // Calculate new completed pomodoros count\n        // Reset to 0 after completing a long break (cycle complete)\n        let newCompletedPomodoros: number;\n        if (wasLongBreak) {\n            newCompletedPomodoros = 0; // Reset cycle after long break\n        } else if (wasPomodoro) {\n            newCompletedPomodoros = currentSession.completedPomodoros + 1;\n        } else {\n            newCompletedPomodoros = currentSession.completedPomodoros;\n        }\n\n        if (wasPomodoro) {\n            setTotalPomodorosCompleted((prev) => prev + 1);\n            toast.success(\"Pomodoro completed! Time for a break.\");\n        } else if (wasLongBreak) {\n            toast.success(\"Long break complete! Starting a new cycle.\");\n        } else {\n            toast.success(\"Break's over! Ready to focus?\");\n        }\n\n        const nextType = getNextSessionType(\n            currentSession.type,\n            currentSession.completedPomodoros,\n            settings.pomodorosBeforeLongBreak\n        );\n\n        // Play sound for the NEXT session (what's coming)\n        if (settings.playSound) {\n            playSessionEndSound(nextType);\n        }\n\n        const nextDuration = getSessionDuration(nextType, settings);\n\n        // Determine if we should auto-start based on settings\n        const isNextBreak = nextType === \"shortBreak\" || nextType === \"longBreak\";\n        const shouldAutoStart = isNextBreak\n            ? settings.autoStartBreaks\n            : settings.autoStartPomodoros;\n\n        setSession({\n            type: nextType,\n            timeRemaining: nextDuration,\n            totalTime: nextDuration,\n            state: shouldAutoStart ? \"running\" : \"paused\",\n            completedPomodoros: newCompletedPomodoros,\n        });\n\n        // Increment session counter to force timer effect to re-run\n        // This is critical for auto-start when state stays \"running\"\n        setSessionCounter((prev) => prev + 1);\n    }, [settings]);\n\n    // Timer logic\n    useEffect(() => {\n        if (session.state === \"running\") {\n            timerRef.current = setInterval(() => {\n                setSession((prev) => {\n                    if (prev.timeRemaining <= 1) {\n                        // Prevent double completion\n                        if (isCompletingSession.current) {\n                            return prev;\n                        }\n                        isCompletingSession.current = true;\n\n                        // IMPORTANT: Clear interval immediately to prevent it from\n                        // ticking again and decrementing the NEW session's time\n                        if (timerRef.current) {\n                            clearInterval(timerRef.current);\n                            timerRef.current = null;\n                        }\n\n                        // Session complete - handle in next tick to avoid state conflicts\n                        setTimeout(() => {\n                            handleSessionComplete(prev);\n                            // Reset the flag after completion is handled\n                            setTimeout(() => {\n                                isCompletingSession.current = false;\n                            }, 100);\n                        }, 0);\n\n                        // Return with timer at 0\n                        return { ...prev, timeRemaining: 0 };\n                    }\n                    return { ...prev, timeRemaining: prev.timeRemaining - 1 };\n                });\n            }, 1000);\n        } else {\n            if (timerRef.current) {\n                clearInterval(timerRef.current);\n                timerRef.current = null;\n            }\n        }\n\n        return () => {\n            if (timerRef.current) {\n                clearInterval(timerRef.current);\n            }\n        };\n        // sessionCounter ensures this effect re-runs when a new session starts with auto-start\n        // (when state stays \"running\" but we need a new interval)\n    }, [session.state, sessionCounter, handleSessionComplete]);\n\n    // Update document title when timer is running\n    useEffect(() => {\n        if (session.state === \"running\" || session.state === \"paused\") {\n            const sessionLabel = SESSION_INFO[session.type].label;\n            document.title = `${formatTime(session.timeRemaining)} - ${sessionLabel}`;\n        } else {\n            document.title = \"Client-Side Tools | Fractiunate\";\n        }\n\n        return () => {\n            document.title = \"Client-Side Tools | Fractiunate\";\n        };\n    }, [session.timeRemaining, session.state, session.type]);\n\n    // Control functions\n    const startTimer = useCallback(() => {\n        playClickSound();\n        setSession((prev) => ({ ...prev, state: \"running\" }));\n        setShowPlaybar(true);\n    }, []);\n\n    const pauseTimer = useCallback(() => {\n        setSession((prev) => ({ ...prev, state: \"paused\" }));\n    }, []);\n\n    const resetTimer = useCallback(() => {\n        const duration = getSessionDuration(session.type, settings);\n        setSession((prev) => ({\n            ...prev,\n            timeRemaining: duration,\n            totalTime: duration,\n            state: \"idle\",\n        }));\n    }, [session.type, settings]);\n\n    const skipSession = useCallback(() => {\n        const nextType = getNextSessionType(\n            session.type,\n            session.completedPomodoros,\n            settings.pomodorosBeforeLongBreak\n        );\n        const nextDuration = getSessionDuration(nextType, settings);\n\n        // Calculate new completed pomodoros count\n        // Reset to 0 after skipping a long break (cycle complete)\n        let newCompletedPomodoros: number;\n        if (session.type === \"longBreak\") {\n            newCompletedPomodoros = 0; // Reset cycle after long break\n        } else if (session.type === \"pomodoro\") {\n            newCompletedPomodoros = session.completedPomodoros + 1;\n        } else {\n            newCompletedPomodoros = session.completedPomodoros;\n        }\n\n        // Determine if we should auto-start based on settings\n        const isNextBreak = nextType === \"shortBreak\" || nextType === \"longBreak\";\n        const shouldAutoStart = isNextBreak\n            ? settings.autoStartBreaks\n            : settings.autoStartPomodoros;\n\n        setSession({\n            type: nextType,\n            timeRemaining: nextDuration,\n            totalTime: nextDuration,\n            state: shouldAutoStart ? \"running\" : \"idle\",\n            completedPomodoros: newCompletedPomodoros,\n        });\n\n        // Increment session counter if auto-starting to ensure timer effect runs\n        if (shouldAutoStart) {\n            setSessionCounter((prev) => prev + 1);\n        }\n\n        if (session.type === \"pomodoro\") {\n            setTotalPomodorosCompleted((prev) => prev + 1);\n        }\n    }, [session, settings]);\n\n    const selectSessionType = useCallback((type: SessionType) => {\n        const duration = getSessionDuration(type, settings);\n        setSession({\n            type,\n            timeRemaining: duration,\n            totalTime: duration,\n            state: \"idle\",\n            completedPomodoros: session.completedPomodoros,\n        });\n    }, [settings, session.completedPomodoros]);\n\n    const updateSetting = useCallback(<K extends keyof PomodoroSettings>(\n        key: K,\n        value: PomodoroSettings[K]\n    ) => {\n        setSettings((prev) => {\n            const newSettings = { ...prev, [key]: value };\n\n            // Update timer if currently idle and the duration changed\n            if (session.state === \"idle\") {\n                const newDuration = getSessionDuration(session.type, newSettings);\n                setSession((s) => ({\n                    ...s,\n                    timeRemaining: newDuration,\n                    totalTime: newDuration,\n                }));\n            }\n\n            return newSettings;\n        });\n    }, [session.state, session.type]);\n\n    const applyPreset = useCallback((presetName: string) => {\n        const preset = PRESETS[presetName];\n        if (preset) {\n            setSettings(preset);\n            if (session.state === \"idle\") {\n                const newDuration = getSessionDuration(session.type, preset);\n                setSession((s) => ({\n                    ...s,\n                    timeRemaining: newDuration,\n                    totalTime: newDuration,\n                }));\n            }\n            toast.success(`Applied \"${presetName}\" preset`);\n        }\n    }, [session.state, session.type]);\n\n    const togglePlaybar = useCallback(() => {\n        setShowPlaybar((prev) => !prev);\n    }, []);\n\n    // Computed values\n    const progress = useMemo(\n        () => calculateProgress(session.timeRemaining, session.totalTime),\n        [session.timeRemaining, session.totalTime]\n    );\n\n    const sessionInfo = SESSION_INFO[session.type];\n    const isRunning = session.state === \"running\";\n    const isPaused = session.state === \"paused\";\n    const isIdle = session.state === \"idle\";\n\n    const value: PomodoroContextValue = {\n        settings,\n        updateSetting,\n        applyPreset,\n        session,\n        totalPomodorosCompleted,\n        sessionInfo,\n        progress,\n        isRunning,\n        isPaused,\n        isIdle,\n        startTimer,\n        pauseTimer,\n        resetTimer,\n        skipSession,\n        selectSessionType,\n        showPlaybar,\n        setShowPlaybar,\n        togglePlaybar,\n    };\n\n    return (\n        <PomodoroContext.Provider value={value}>\n            {children}\n        </PomodoroContext.Provider>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1703, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 1721, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 1786, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,oZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 1838, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  )\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  )\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  )\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBACE,6LAAC;kBACC,cAAA,6LAAC,8KAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;MARS;AAUT,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,6LAAC,iLAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAJS;AAMT,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6LAAC,gLAAuB;kBACtB,cAAA,6LAAC,iLAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,qHAAE,EACX,qaACA;YAED,GAAG,KAAK;;gBAER;8BACD,6LAAC,+KAAsB;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C;MAtBS"}},
    {"offset": {"line": 1937, "column": 0}, "map": {"version":3,"sources":["file:///home/fractiunate/DEV_UBUNTU/favicon-converter/website/components/global-pomodoro-playbar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { Play, Pause, SkipForward, RotateCcw, ChevronUp } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n    Tooltip,\n    TooltipContent,\n    TooltipProvider,\n    TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { cn } from \"@/lib/utils\";\nimport { usePomodoroContextSafe } from \"@/lib/pomodoro-context\";\nimport { formatTime } from \"@/services/pomodoro\";\n\nexport function GlobalPomodoroPlaybar() {\n    const pomodoro = usePomodoroContextSafe();\n\n    // Don't render anything if context is not available\n    if (!pomodoro) {\n        return null;\n    }\n\n    const {\n        session,\n        sessionInfo,\n        progress,\n        isRunning,\n        isPaused,\n        startTimer,\n        pauseTimer,\n        skipSession,\n        resetTimer,\n        showPlaybar,\n        setShowPlaybar,\n    } = pomodoro;\n\n    // Show mini toggle when playbar is hidden but timer has been used\n    // (running, paused, or has any progress/completed pomodoros)\n    const hasTimerActivity = isRunning || isPaused ||\n        session.completedPomodoros > 0 ||\n        session.timeRemaining !== session.totalTime;\n\n    if (!showPlaybar) {\n        // Show mini toggle button only if timer has activity\n        if (!hasTimerActivity) {\n            return null;\n        }\n\n        return (\n            <div className=\"fixed bottom-4 right-4 z-50\">\n                <TooltipProvider delayDuration={300}>\n                    <Tooltip>\n                        <TooltipTrigger asChild>\n                            <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                className={cn(\n                                    \"h-10 gap-2 shadow-lg border-2 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80\",\n                                    session.type === \"pomodoro\" && \"border-red-500/50 hover:border-red-500\",\n                                    session.type === \"shortBreak\" && \"border-green-500/50 hover:border-green-500\",\n                                    session.type === \"longBreak\" && \"border-blue-500/50 hover:border-blue-500\"\n                                )}\n                                onClick={() => setShowPlaybar(true)}\n                            >\n                                <div className={cn(\n                                    \"w-2 h-2 rounded-full shrink-0\",\n                                    sessionInfo.bgColor,\n                                    isRunning && \"animate-pulse\"\n                                )} />\n                                <span className={cn(\"font-mono text-sm font-bold tabular-nums\", sessionInfo.color)}>\n                                    {formatTime(session.timeRemaining)}\n                                </span>\n                                <ChevronUp className=\"h-4 w-4 text-muted-foreground\" />\n                            </Button>\n                        </TooltipTrigger>\n                        <TooltipContent side=\"top\">Show playbar</TooltipContent>\n                    </Tooltip>\n                </TooltipProvider>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"fixed bottom-0 left-0 right-0 z-50 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80\">\n            {/* Progress bar at top of footer */}\n            <div className=\"absolute top-0 left-0 right-0 h-1\">\n                <div\n                    className={cn(\n                        \"h-full transition-all duration-1000 ease-linear\",\n                        session.type === \"pomodoro\" && \"bg-red-500\",\n                        session.type === \"shortBreak\" && \"bg-green-500\",\n                        session.type === \"longBreak\" && \"bg-blue-500\"\n                    )}\n                    style={{ width: `${progress}%` }}\n                />\n            </div>\n\n            <div className=\"container max-w-screen-xl mx-auto px-4\">\n                <div className=\"flex items-center justify-between h-14 gap-4\">\n                    {/* Left: Session Info */}\n                    <div className=\"flex items-center gap-3 min-w-0 flex-1\">\n                        <div className={cn(\n                            \"w-2.5 h-2.5 rounded-full shrink-0\",\n                            sessionInfo.bgColor,\n                            isRunning && \"animate-pulse\"\n                        )} />\n                        <span className=\"text-sm font-medium truncate hidden sm:inline\">\n                            {sessionInfo.label}\n                        </span>\n                        <TooltipProvider delayDuration={300}>\n                            <Tooltip>\n                                <TooltipTrigger asChild>\n                                    <Link href=\"/pomodoro-timer\">\n                                        <Badge variant=\"secondary\" className=\"text-xs hidden md:flex cursor-pointer hover:bg-secondary/80 transition-colors\">\n                                            {session.completedPomodoros} \n                                        </Badge>\n                                    </Link>\n                                </TooltipTrigger>\n                                <TooltipContent side=\"top\">Go to Pomodoro Timer</TooltipContent>\n                            </Tooltip>\n                        </TooltipProvider>\n                    </div>\n\n                    {/* Center: Controls */}\n                    <div className=\"flex items-center gap-2\">\n                        <TooltipProvider delayDuration={300}>\n                            <Tooltip>\n                                <TooltipTrigger asChild>\n                                    <Button\n                                        variant=\"ghost\"\n                                        size=\"icon\"\n                                        className=\"h-8 w-8\"\n                                        onClick={resetTimer}\n                                    >\n                                        <RotateCcw className=\"h-4 w-4\" />\n                                    </Button>\n                                </TooltipTrigger>\n                                <TooltipContent side=\"top\">Reset</TooltipContent>\n                            </Tooltip>\n                        </TooltipProvider>\n\n                        <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className={cn(\n                                \"h-10 w-10 rounded-full\",\n                                session.type === \"pomodoro\" && \"hover:bg-red-500/10\",\n                                session.type === \"shortBreak\" && \"hover:bg-green-500/10\",\n                                session.type === \"longBreak\" && \"hover:bg-blue-500/10\"\n                            )}\n                            onClick={isRunning ? pauseTimer : startTimer}\n                        >\n                            {isRunning ? (\n                                <Pause className={cn(\"h-5 w-5\", sessionInfo.color)} />\n                            ) : (\n                                <Play className={cn(\"h-5 w-5\", sessionInfo.color)} />\n                            )}\n                        </Button>\n\n                        <TooltipProvider delayDuration={300}>\n                            <Tooltip>\n                                <TooltipTrigger asChild>\n                                    <Button\n                                        variant=\"ghost\"\n                                        size=\"icon\"\n                                        className=\"h-8 w-8\"\n                                        onClick={skipSession}\n                                    >\n                                        <SkipForward className=\"h-4 w-4\" />\n                                    </Button>\n                                </TooltipTrigger>\n                                <TooltipContent side=\"top\">Skip</TooltipContent>\n                            </Tooltip>\n                        </TooltipProvider>\n                    </div>\n\n                    {/* Right: Time & Close */}\n                    <div className=\"flex items-center gap-3 min-w-0 flex-1 justify-end\">\n                        <div className={cn(\n                            \"font-mono text-lg font-bold tabular-nums\",\n                            sessionInfo.color\n                        )}>\n                            {formatTime(session.timeRemaining)}\n                        </div>\n\n                        <TooltipProvider delayDuration={300}>\n                            <Tooltip>\n                                <TooltipTrigger asChild>\n                                    <Button\n                                        variant=\"ghost\"\n                                        size=\"icon\"\n                                        className=\"h-8 w-8 text-muted-foreground hover:text-foreground\"\n                                        onClick={() => setShowPlaybar(false)}\n                                    >\n                                        <span className=\"text-lg leading-none\"></span>\n                                    </Button>\n                                </TooltipTrigger>\n                                <TooltipContent side=\"top\">Hide playbar</TooltipContent>\n                            </Tooltip>\n                        </TooltipProvider>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAMA;AACA;AACA;AAAA;;;AAdA;;;;;;;;;AAgBO,SAAS;;IACZ,MAAM,WAAW,IAAA,wJAAsB;IAEvC,oDAAoD;IACpD,IAAI,CAAC,UAAU;QACX,OAAO;IACX;IAEA,MAAM,EACF,OAAO,EACP,WAAW,EACX,QAAQ,EACR,SAAS,EACT,QAAQ,EACR,UAAU,EACV,UAAU,EACV,WAAW,EACX,UAAU,EACV,WAAW,EACX,cAAc,EACjB,GAAG;IAEJ,kEAAkE;IAClE,6DAA6D;IAC7D,MAAM,mBAAmB,aAAa,YAClC,QAAQ,kBAAkB,GAAG,KAC7B,QAAQ,aAAa,KAAK,QAAQ,SAAS;IAE/C,IAAI,CAAC,aAAa;QACd,qDAAqD;QACrD,IAAI,CAAC,kBAAkB;YACnB,OAAO;QACX;QAEA,qBACI,6LAAC;YAAI,WAAU;sBACX,cAAA,6LAAC,kJAAe;gBAAC,eAAe;0BAC5B,cAAA,6LAAC,0IAAO;;sCACJ,6LAAC,iJAAc;4BAAC,OAAO;sCACnB,cAAA,6LAAC,wIAAM;gCACH,SAAQ;gCACR,MAAK;gCACL,WAAW,IAAA,qHAAE,EACT,4GACA,QAAQ,IAAI,KAAK,cAAc,0CAC/B,QAAQ,IAAI,KAAK,gBAAgB,8CACjC,QAAQ,IAAI,KAAK,eAAe;gCAEpC,SAAS,IAAM,eAAe;;kDAE9B,6LAAC;wCAAI,WAAW,IAAA,qHAAE,EACd,iCACA,YAAY,OAAO,EACnB,aAAa;;;;;;kDAEjB,6LAAC;wCAAK,WAAW,IAAA,qHAAE,EAAC,4CAA4C,YAAY,KAAK;kDAC5E,IAAA,8IAAU,EAAC,QAAQ,aAAa;;;;;;kDAErC,6LAAC,gOAAS;wCAAC,WAAU;;;;;;;;;;;;;;;;;sCAG7B,6LAAC,iJAAc;4BAAC,MAAK;sCAAM;;;;;;;;;;;;;;;;;;;;;;IAK/C;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BAEX,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBACG,WAAW,IAAA,qHAAE,EACT,mDACA,QAAQ,IAAI,KAAK,cAAc,cAC/B,QAAQ,IAAI,KAAK,gBAAgB,gBACjC,QAAQ,IAAI,KAAK,eAAe;oBAEpC,OAAO;wBAAE,OAAO,GAAG,SAAS,CAAC,CAAC;oBAAC;;;;;;;;;;;0BAIvC,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAI,WAAU;;sCAEX,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAI,WAAW,IAAA,qHAAE,EACd,qCACA,YAAY,OAAO,EACnB,aAAa;;;;;;8CAEjB,6LAAC;oCAAK,WAAU;8CACX,YAAY,KAAK;;;;;;8CAEtB,6LAAC,kJAAe;oCAAC,eAAe;8CAC5B,cAAA,6LAAC,0IAAO;;0DACJ,6LAAC,iJAAc;gDAAC,OAAO;0DACnB,cAAA,6LAAC,0KAAI;oDAAC,MAAK;8DACP,cAAA,6LAAC,sIAAK;wDAAC,SAAQ;wDAAY,WAAU;;4DAChC,QAAQ,kBAAkB;4DAAC;;;;;;;;;;;;;;;;;0DAIxC,6LAAC,iJAAc;gDAAC,MAAK;0DAAM;;;;;;;;;;;;;;;;;;;;;;;sCAMvC,6LAAC;4BAAI,WAAU;;8CACX,6LAAC,kJAAe;oCAAC,eAAe;8CAC5B,cAAA,6LAAC,0IAAO;;0DACJ,6LAAC,iJAAc;gDAAC,OAAO;0DACnB,cAAA,6LAAC,wIAAM;oDACH,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS;8DAET,cAAA,6LAAC,gOAAS;wDAAC,WAAU;;;;;;;;;;;;;;;;0DAG7B,6LAAC,iJAAc;gDAAC,MAAK;0DAAM;;;;;;;;;;;;;;;;;8CAInC,6LAAC,wIAAM;oCACH,SAAQ;oCACR,MAAK;oCACL,WAAW,IAAA,qHAAE,EACT,0BACA,QAAQ,IAAI,KAAK,cAAc,uBAC/B,QAAQ,IAAI,KAAK,gBAAgB,yBACjC,QAAQ,IAAI,KAAK,eAAe;oCAEpC,SAAS,YAAY,aAAa;8CAEjC,0BACG,6LAAC,gNAAK;wCAAC,WAAW,IAAA,qHAAE,EAAC,WAAW,YAAY,KAAK;;;;;6DAEjD,6LAAC,6MAAI;wCAAC,WAAW,IAAA,qHAAE,EAAC,WAAW,YAAY,KAAK;;;;;;;;;;;8CAIxD,6LAAC,kJAAe;oCAAC,eAAe;8CAC5B,cAAA,6LAAC,0IAAO;;0DACJ,6LAAC,iJAAc;gDAAC,OAAO;0DACnB,cAAA,6LAAC,wIAAM;oDACH,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS;8DAET,cAAA,6LAAC,sOAAW;wDAAC,WAAU;;;;;;;;;;;;;;;;0DAG/B,6LAAC,iJAAc;gDAAC,MAAK;0DAAM;;;;;;;;;;;;;;;;;;;;;;;sCAMvC,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAI,WAAW,IAAA,qHAAE,EACd,4CACA,YAAY,KAAK;8CAEhB,IAAA,8IAAU,EAAC,QAAQ,aAAa;;;;;;8CAGrC,6LAAC,kJAAe;oCAAC,eAAe;8CAC5B,cAAA,6LAAC,0IAAO;;0DACJ,6LAAC,iJAAc;gDAAC,OAAO;0DACnB,cAAA,6LAAC,wIAAM;oDACH,SAAQ;oDACR,MAAK;oDACL,WAAU;oDACV,SAAS,IAAM,eAAe;8DAE9B,cAAA,6LAAC;wDAAK,WAAU;kEAAuB;;;;;;;;;;;;;;;;0DAG/C,6LAAC,iJAAc;gDAAC,MAAK;0DAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ3D;GA/LgB;;QACK,wJAAsB;;;KAD3B"}}]
}